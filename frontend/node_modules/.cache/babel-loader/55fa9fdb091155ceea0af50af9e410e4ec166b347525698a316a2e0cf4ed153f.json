{"ast":null,"code":"import styles from'./styles.module.css';import cn from'classnames';import{Icons,Button,LinkComponent}from'../index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var countForm=function countForm(number,titles){number=Math.abs(number);if(Number.isInteger(number)){var cases=[2,0,1,1,1,2];return titles[number%100>4&&number%100<20?2:cases[number%10<5?number%10:5]];}return titles[1];};var Subscription=function Subscription(_ref){var email=_ref.email,first_name=_ref.first_name,last_name=_ref.last_name,username=_ref.username,removeSubscription=_ref.removeSubscription,recipes_count=_ref.recipes_count,id=_ref.id,recipes=_ref.recipes;var shouldShowButton=recipes_count>3;var moreRecipes=recipes_count-3;return/*#__PURE__*/_jsxs(\"div\",{className:styles.subscription,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.subscriptionHeader,children:/*#__PURE__*/_jsx(\"h2\",{className:styles.subscriptionTitle,children:/*#__PURE__*/_jsx(LinkComponent,{className:styles.subscriptionRecipeLink,href:\"/user/\".concat(id),title:\"\".concat(first_name,\" \").concat(last_name)})})}),/*#__PURE__*/_jsx(\"div\",{className:styles.subscriptionBody,children:/*#__PURE__*/_jsxs(\"ul\",{className:styles.subscriptionItems,children:[recipes.map(function(recipe){return/*#__PURE__*/_jsx(\"li\",{className:styles.subscriptionItem,children:/*#__PURE__*/_jsx(LinkComponent,{className:styles.subscriptionRecipeLink,href:\"/recipes/\".concat(recipe.id),title:/*#__PURE__*/_jsxs(\"div\",{className:styles.subscriptionRecipe,children:[/*#__PURE__*/_jsx(\"img\",{src:recipe.image,alt:recipe.name,className:styles.subscriptionRecipeImage}),/*#__PURE__*/_jsx(\"h3\",{className:styles.subscriptionRecipeTitle,children:recipe.name}),/*#__PURE__*/_jsxs(\"p\",{className:styles.subscriptionRecipeText,children:[/*#__PURE__*/_jsx(Icons.ClockIcon,{}),recipe.cooking_time,\" \\u043C\\u0438\\u043D.\"]})]})})},recipe.id);}),shouldShowButton&&/*#__PURE__*/_jsx(\"li\",{className:styles.subscriptionMore,children:/*#__PURE__*/_jsx(LinkComponent,{className:styles.subscriptionLink,title:\"\\u0415\\u0449\\u0435 \".concat(moreRecipes,\" \").concat(countForm(moreRecipes,['рецепт','рецепта','рецептов']),\"...\"),href:\"/user/\".concat(id)})})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.subscriptionFooter,children:/*#__PURE__*/_jsx(Button,{className:styles.subscriptionButton,clickHandler:function clickHandler(_){removeSubscription({id:id});},children:\"\\u041E\\u0442\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\\u0441\\u044F\"})})]});};export default Subscription;","map":{"version":3,"names":["styles","cn","Icons","Button","LinkComponent","countForm","number","titles","Math","abs","Number","isInteger","cases","Subscription","email","first_name","last_name","username","removeSubscription","recipes_count","id","recipes","shouldShowButton","moreRecipes","subscription","subscriptionHeader","subscriptionTitle","subscriptionRecipeLink","subscriptionBody","subscriptionItems","map","recipe","subscriptionItem","subscriptionRecipe","image","name","subscriptionRecipeImage","subscriptionRecipeTitle","subscriptionRecipeText","cooking_time","subscriptionMore","subscriptionLink","subscriptionFooter","subscriptionButton","_"],"sources":["C:/Dev/foodgram-project-react/frontend/src/components/subscription/index.js"],"sourcesContent":["import styles from './styles.module.css'\nimport cn from 'classnames'\nimport { Icons, Button, LinkComponent } from '../index'\nconst countForm = (number, titles) => {\n  number = Math.abs(number);\n  if (Number.isInteger(number)) {\n    let cases = [2, 0, 1, 1, 1, 2];  \n    return titles[ (number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number%10<5)?number%10:5] ]\n  }\n  return titles[1];\n}\n\nconst Subscription = ({ email, first_name, last_name, username, removeSubscription, recipes_count, id, recipes }) => {\n  const shouldShowButton = recipes_count  > 3\n  const moreRecipes = recipes_count - 3\n  return <div className={styles.subscription}>\n    <div className={styles.subscriptionHeader}>\n      <h2 className={styles.subscriptionTitle}>\n        <LinkComponent className={styles.subscriptionRecipeLink} href={`/user/${id}`} title={`${first_name} ${last_name}`} />\n      </h2>\n    </div>\n    <div className={styles.subscriptionBody}>\n      <ul className={styles.subscriptionItems}>\n        {recipes.map(recipe => {\n          return <li className={styles.subscriptionItem} key={recipe.id}>\n            <LinkComponent className={styles.subscriptionRecipeLink} href={`/recipes/${recipe.id}`} title={\n              <div className={styles.subscriptionRecipe}>\n                <img src={recipe.image} alt={recipe.name} className={styles.subscriptionRecipeImage} />\n                <h3 className={styles.subscriptionRecipeTitle}>\n                  {recipe.name}\n                </h3>\n                <p className={styles.subscriptionRecipeText}>\n                  <Icons.ClockIcon />{recipe.cooking_time} мин.\n                </p>\n              </div>\n            } />\n          </li>\n        })}\n        {shouldShowButton && <li className={styles.subscriptionMore}>\n          <LinkComponent\n            className={styles.subscriptionLink}\n            title={`Еще ${moreRecipes} ${countForm(moreRecipes, ['рецепт', 'рецепта', 'рецептов'])}...`}\n            href={`/user/${id}`}\n          />\n        </li>}\n      </ul>\n    </div>\n    <div className={styles.subscriptionFooter}>\n      <Button\n        className={styles.subscriptionButton}\n        clickHandler={_ => {\n          removeSubscription({ id })\n        }}\n      >\n        Отписаться\n      </Button>\n    </div>\n  </div>\n}\n\nexport default Subscription\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}