{"ast":null,"code":"import styles from'./style.module.css';import{LinkComponent,Icons,Button,TagsContainer}from'../index';import{useState,useContext}from'react';import{AuthContext}from'../../contexts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Card=function Card(_ref){var _ref$name=_ref.name,name=_ref$name===void 0?'Без названия':_ref$name,id=_ref.id,image=_ref.image,is_favorited=_ref.is_favorited,is_in_shopping_cart=_ref.is_in_shopping_cart,tags=_ref.tags,cooking_time=_ref.cooking_time,_ref$author=_ref.author,author=_ref$author===void 0?{}:_ref$author,handleLike=_ref.handleLike,handleAddToCart=_ref.handleAddToCart,updateOrders=_ref.updateOrders;var authContext=useContext(AuthContext);return/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(LinkComponent,{className:styles.card__title,href:\"/recipes/\".concat(id),title:/*#__PURE__*/_jsx(\"div\",{className:styles.card__image,style:{backgroundImage:\"url(\".concat(image,\")\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card__body,children:[/*#__PURE__*/_jsx(LinkComponent,{className:styles.card__title,href:\"/recipes/\".concat(id),title:name}),/*#__PURE__*/_jsx(TagsContainer,{tags:tags}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card__time,children:[/*#__PURE__*/_jsx(Icons.ClockIcon,{}),\" \",cooking_time,\" \\u043C\\u0438\\u043D.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card__author,children:[/*#__PURE__*/_jsx(Icons.UserIcon,{}),\" \",/*#__PURE__*/_jsx(LinkComponent,{href:\"/user/\".concat(author.id),title:\"\".concat(author.first_name,\" \").concat(author.last_name),className:styles.card__link})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card__footer,children:[authContext&&/*#__PURE__*/_jsx(Button,{className:styles.card__add,modifier:is_in_shopping_cart?'style_light':'style_light-blue',clickHandler:function clickHandler(_){handleAddToCart({id:id,toAdd:Number(!is_in_shopping_cart),callback:updateOrders});},disabled:!authContext,children:is_in_shopping_cart?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Icons.DoneIcon,{}),\"\\u0420\\u0435\\u0446\\u0435\\u043F\\u0442 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Icons.PlusIcon,{fill:\"#4A61DD\"}),\" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"]})}),authContext&&/*#__PURE__*/_jsx(Button,{modifier:\"style_none\",clickHandler:function clickHandler(_){handleLike({id:id,toLike:Number(!is_favorited)});},children:is_favorited?/*#__PURE__*/_jsx(Icons.StarActiveIcon,{}):/*#__PURE__*/_jsx(Icons.StarIcon,{})})]})]});};export default Card;","map":{"version":3,"names":["styles","LinkComponent","Icons","Button","TagsContainer","useState","useContext","AuthContext","Card","name","id","image","is_favorited","is_in_shopping_cart","tags","cooking_time","author","handleLike","handleAddToCart","updateOrders","authContext","card","card__title","card__image","backgroundImage","card__body","card__time","card__author","first_name","last_name","card__link","card__footer","card__add","_","toAdd","Number","callback","toLike"],"sources":["C:/Dev/foodgram-project-react/frontend/src/components/card/index.js"],"sourcesContent":["import styles from './style.module.css'\nimport { LinkComponent, Icons, Button, TagsContainer } from '../index'\nimport { useState, useContext } from 'react'\nimport { AuthContext } from '../../contexts'\n\nconst Card = ({\n  name = 'Без названия',\n  id,\n  image,\n  is_favorited,\n  is_in_shopping_cart,\n  tags,\n  cooking_time,\n  author = {},\n  handleLike,\n  handleAddToCart,\n  updateOrders\n}) => {\n  const authContext = useContext(AuthContext)\n  return <div className={styles.card}>\n      <LinkComponent\n        className={styles.card__title}\n        href={`/recipes/${id}`}\n        title={<div className={styles.card__image} style={{ backgroundImage: `url(${ image })` }} />}\n      />\n      <div className={styles.card__body}>\n        <LinkComponent\n          className={styles.card__title}\n          href={`/recipes/${id}`}\n          title={name}\n        />\n        <TagsContainer tags={tags} />\n        <div className={styles.card__time}>\n          <Icons.ClockIcon /> {cooking_time} мин.\n        </div>\n        <div className={styles.card__author}>\n          <Icons.UserIcon /> <LinkComponent\n            href={`/user/${author.id}`}\n            title={`${author.first_name} ${author.last_name}`}\n            className={styles.card__link}\n          />\n        </div>\n      </div>\n      \n      <div className={styles.card__footer}>\n          {authContext && <Button\n            className={styles.card__add}\n            modifier={is_in_shopping_cart ? 'style_light' : 'style_light-blue'}\n            clickHandler={_ => {\n              handleAddToCart({\n                id,\n                toAdd: Number(!is_in_shopping_cart),\n                callback: updateOrders\n              })\n            }}\n            disabled={!authContext}\n          >\n            {is_in_shopping_cart ? <><Icons.DoneIcon />Рецепт добавлен</> : <><Icons.PlusIcon fill='#4A61DD' /> Добавить в покупки</>}\n          </Button>}\n          \n          {authContext && <Button\n            modifier='style_none'\n            clickHandler={_ => {\n              handleLike({ id, toLike: Number(!is_favorited) })\n            }}\n          >\n            {is_favorited ? <Icons.StarActiveIcon /> : <Icons.StarIcon />}\n          </Button>}\n      </div>\n  </div>\n}\n\nexport default Card"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}