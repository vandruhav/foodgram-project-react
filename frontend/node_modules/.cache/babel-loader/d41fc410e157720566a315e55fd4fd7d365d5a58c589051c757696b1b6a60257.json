{"ast":null,"code":"import _defineProperty from\"C:/Dev/foodgram-project-react/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Dev/foodgram-project-react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./styles.module.css';import cn from'classnames';import{LinkComponent,Icons}from'../index';import arrowLeft from'./arrow-left.png';import arrowRight from'./arrow-right.png';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var _ref$count=_ref.count,count=_ref$count===void 0?0:_ref$count,_ref$limit=_ref.limit,limit=_ref$limit===void 0?6:_ref$limit,_ref$initialActive=_ref.initialActive,initialActive=_ref$initialActive===void 0?1:_ref$initialActive,onPageChange=_ref.onPageChange,page=_ref.page;var _useState=useState(initialActive),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var onButtonClick=function onButtonClick(active){setActive(active);onPageChange(active);};useEffect(function(_){if(page===active){return;}setActive(page);},[page]);var pagesCount=Math.ceil(count/limit);if(count===0||pagesCount<=1){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:styles.pagination,children:[/*#__PURE__*/_jsx(\"img\",{className:cn(styles.arrow,styles.arrowLeft,_defineProperty({},styles.arrowDisabled,active===1)),src:arrowLeft,onClick:function onClick(_){if(active===1){return;}onButtonClick(active-1);}}),new Array(pagesCount).fill().map(function(item,idx){return/*#__PURE__*/_jsx(\"div\",{className:cn(styles.paginationItem,_defineProperty({},styles.paginationItemActive,idx+1===active)),onClick:function onClick(_){return onButtonClick(idx+1);},children:idx+1},idx);}),/*#__PURE__*/_jsx(\"img\",{src:arrowRight,className:cn(styles.arrow,styles.arrowRight,_defineProperty({},styles.arrowDisabled,active===pagesCount)),onClick:function onClick(_){if(active===pagesCount){return;}onButtonClick(active+1);}})]});};export default Pagination;","map":{"version":3,"names":["styles","cn","LinkComponent","Icons","arrowLeft","arrowRight","useState","useEffect","Pagination","count","limit","initialActive","onPageChange","page","active","setActive","onButtonClick","_","pagesCount","Math","ceil","pagination","arrow","arrowDisabled","Array","fill","map","item","idx","paginationItem","paginationItemActive"],"sources":["C:/Dev/foodgram-project-react/frontend/src/components/pagination/index.js"],"sourcesContent":["import styles from './styles.module.css'\nimport cn from 'classnames'\nimport { LinkComponent, Icons } from '../index'\nimport arrowLeft from './arrow-left.png'\nimport arrowRight from './arrow-right.png'\nimport { useState, useEffect } from 'react'\n\nconst Pagination = ({ count = 0, limit = 6, initialActive = 1, onPageChange, page }) => {\n  const [ active, setActive ] = useState(initialActive)\n  const onButtonClick = (active) => {\n    setActive(active)\n    onPageChange(active)\n  }\n  useEffect(_ => {\n    if (page === active) { return }\n    setActive(page)\n  }, [page])\n  const pagesCount = Math.ceil(count / limit)\n  if (count === 0 || pagesCount <= 1) { return null }\n  return <div className={styles.pagination}>\n    <img\n      className={cn(\n        styles.arrow,\n        styles.arrowLeft,\n        {\n          [styles.arrowDisabled]: active === 1\n        }\n      )}\n      src={arrowLeft}\n      onClick={_ => {\n        if (active === 1) { return }\n        onButtonClick(active - 1)\n      }}\n    />\n    {(new Array(pagesCount)).fill().map((item, idx) => {\n      return <div\n        className={cn(\n          styles.paginationItem, {\n            [styles.paginationItemActive]: idx + 1 === active\n          }\n        )}\n        onClick={_ => onButtonClick(idx + 1)}\n        key={idx}\n      >{idx + 1}</div>\n    })}\n    <img\n      src={arrowRight}\n      className={cn(\n        styles.arrow,\n        styles.arrowRight,\n        {\n          [styles.arrowDisabled]: active === pagesCount\n        }\n      )}\n      onClick={_ => {\n        if (active === pagesCount) { return }\n        onButtonClick(active + 1)\n      }}\n    />\n  </div>\n}\n\nexport default Pagination\n"],"mappings":"0PAAA,MAAOA,OAAM,KAAM,qBAAqB,CACxC,MAAOC,GAAE,KAAM,YAAY,CAC3B,OAASC,aAAa,CAAEC,KAAK,KAAQ,UAAU,CAC/C,MAAOC,UAAS,KAAM,kBAAkB,CACxC,MAAOC,WAAU,KAAM,mBAAmB,CAC1C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,yFAE3C,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAwE,qBAAlEC,KAAK,CAALA,KAAK,qBAAG,CAAC,4BAAEC,KAAK,CAALA,KAAK,qBAAG,CAAC,oCAAEC,aAAa,CAAbA,aAAa,6BAAG,CAAC,oBAAEC,YAAY,MAAZA,YAAY,CAAEC,IAAI,MAAJA,IAAI,CAC/E,cAA8BP,QAAQ,CAACK,aAAa,CAAC,wCAA7CG,MAAM,eAAEC,SAAS,eACzB,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIF,MAAM,CAAK,CAChCC,SAAS,CAACD,MAAM,CAAC,CACjBF,YAAY,CAACE,MAAM,CAAC,CACtB,CAAC,CACDP,SAAS,CAAC,SAAAU,CAAC,CAAI,CACb,GAAIJ,IAAI,GAAKC,MAAM,CAAE,CAAE,OAAO,CAC9BC,SAAS,CAACF,IAAI,CAAC,CACjB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CACV,GAAMK,WAAU,CAAGC,IAAI,CAACC,IAAI,CAACX,KAAK,CAAGC,KAAK,CAAC,CAC3C,GAAID,KAAK,GAAK,CAAC,EAAIS,UAAU,EAAI,CAAC,CAAE,CAAE,MAAO,KAAI,CAAC,CAClD,mBAAO,aAAK,SAAS,CAAElB,MAAM,CAACqB,UAAW,wBACvC,YACE,SAAS,CAAEpB,EAAE,CACXD,MAAM,CAACsB,KAAK,CACZtB,MAAM,CAACI,SAAS,oBAEbJ,MAAM,CAACuB,aAAa,CAAGT,MAAM,GAAK,CAAC,EAEtC,CACF,GAAG,CAAEV,SAAU,CACf,OAAO,CAAE,iBAAAa,CAAC,CAAI,CACZ,GAAIH,MAAM,GAAK,CAAC,CAAE,CAAE,OAAO,CAC3BE,aAAa,CAACF,MAAM,CAAG,CAAC,CAAC,CAC3B,CAAE,EACF,CACA,GAAIU,MAAK,CAACN,UAAU,CAAC,CAAEO,IAAI,EAAE,CAACC,GAAG,CAAC,SAACC,IAAI,CAAEC,GAAG,CAAK,CACjD,mBAAO,YACL,SAAS,CAAE3B,EAAE,CACXD,MAAM,CAAC6B,cAAc,oBAClB7B,MAAM,CAAC8B,oBAAoB,CAAGF,GAAG,CAAG,CAAC,GAAKd,MAAM,EAEnD,CACF,OAAO,CAAE,iBAAAG,CAAC,QAAID,cAAa,CAACY,GAAG,CAAG,CAAC,CAAC,EAAC,UAErCA,GAAG,CAAG,CAAC,EADFA,GAAG,CACM,CAClB,CAAC,CAAC,cACF,YACE,GAAG,CAAEvB,UAAW,CAChB,SAAS,CAAEJ,EAAE,CACXD,MAAM,CAACsB,KAAK,CACZtB,MAAM,CAACK,UAAU,oBAEdL,MAAM,CAACuB,aAAa,CAAGT,MAAM,GAAKI,UAAU,EAE/C,CACF,OAAO,CAAE,iBAAAD,CAAC,CAAI,CACZ,GAAIH,MAAM,GAAKI,UAAU,CAAE,CAAE,OAAO,CACpCF,aAAa,CAACF,MAAM,CAAG,CAAC,CAAC,CAC3B,CAAE,EACF,GACE,CACR,CAAC,CAED,cAAeN,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}