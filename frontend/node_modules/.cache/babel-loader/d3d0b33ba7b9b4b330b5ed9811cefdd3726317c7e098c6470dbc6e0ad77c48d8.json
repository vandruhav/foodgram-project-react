{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useTags } from './index.js';\nimport api from '../api';\nexport default function useRecipes() {\n  _s();\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [subscriptionsPage, setSubscriptionsPage] = useState(1);\n  const [subscriptionsCount, setSubscriptionsCount] = useState(0);\n  const removeSubscription = _ref => {\n    let {\n      id\n    } = _ref;\n    api.deleteSubscriptions({\n      author_id: id\n    }).then(res => {\n      const subscriptionsUpdated = subscriptions.filter(item => {\n        return item.id !== id;\n      });\n      setSubscriptions(subscriptionsUpdated);\n      setSubscriptionsCount(subscriptionsCount - 1);\n    }).catch(err => {\n      const {\n        errors\n      } = err;\n      if (errors) {\n        alert(errors);\n      }\n    });\n  };\n  return {\n    subscriptions,\n    setSubscriptions,\n    subscriptionsPage,\n    setSubscriptionsPage,\n    removeSubscription,\n    subscriptionsCount,\n    setSubscriptionsCount\n  };\n}\n_s(useRecipes, \"/7htARMHjB1mnqvkjPzWT6w3Cr8=\");","map":{"version":3,"names":["React","useState","useTags","api","useRecipes","subscriptions","setSubscriptions","subscriptionsPage","setSubscriptionsPage","subscriptionsCount","setSubscriptionsCount","removeSubscription","id","deleteSubscriptions","author_id","then","res","subscriptionsUpdated","filter","item","catch","err","errors","alert"],"sources":["C:/Dev/foodgram-project-react/frontend/src/utils/use-subscriptions.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useTags } from './index.js'\nimport api from '../api'\n\nexport default function useRecipes () {\n  const [ subscriptions, setSubscriptions ] = useState([])\n  const [ subscriptionsPage, setSubscriptionsPage ] = useState(1)\n  const [ subscriptionsCount, setSubscriptionsCount ] = useState(0)\n\n  const removeSubscription = ({ id }) => {\n    api\n      .deleteSubscriptions({ author_id: id })\n      .then(res => {\n        const subscriptionsUpdated = subscriptions.filter(item => {\n          return item.id !== id\n        })\n        setSubscriptions(subscriptionsUpdated)\n        setSubscriptionsCount(subscriptionsCount - 1)\n      })\n      .catch(err => {\n        const { errors } = err\n        if (errors) {\n          alert(errors)\n        }\n      })\n  }\n  \n  return {\n    subscriptions,\n    setSubscriptions,\n    subscriptionsPage,\n    setSubscriptionsPage,\n    removeSubscription,\n    subscriptionsCount,\n    setSubscriptionsCount\n  }\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,GAAG,MAAM,QAAQ;AAExB,eAAe,SAASC,UAAU,GAAI;EAAA;EACpC,MAAM,CAAEC,aAAa,EAAEC,gBAAgB,CAAE,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAEM,iBAAiB,EAAEC,oBAAoB,CAAE,GAAGP,QAAQ,CAAC,CAAC,CAAC;EAC/D,MAAM,CAAEQ,kBAAkB,EAAEC,qBAAqB,CAAE,GAAGT,QAAQ,CAAC,CAAC,CAAC;EAEjE,MAAMU,kBAAkB,GAAG,QAAY;IAAA,IAAX;MAAEC;IAAG,CAAC;IAChCT,GAAG,CACAU,mBAAmB,CAAC;MAAEC,SAAS,EAAEF;IAAG,CAAC,CAAC,CACtCG,IAAI,CAACC,GAAG,IAAI;MACX,MAAMC,oBAAoB,GAAGZ,aAAa,CAACa,MAAM,CAACC,IAAI,IAAI;QACxD,OAAOA,IAAI,CAACP,EAAE,KAAKA,EAAE;MACvB,CAAC,CAAC;MACFN,gBAAgB,CAACW,oBAAoB,CAAC;MACtCP,qBAAqB,CAACD,kBAAkB,GAAG,CAAC,CAAC;IAC/C,CAAC,CAAC,CACDW,KAAK,CAACC,GAAG,IAAI;MACZ,MAAM;QAAEC;MAAO,CAAC,GAAGD,GAAG;MACtB,IAAIC,MAAM,EAAE;QACVC,KAAK,CAACD,MAAM,CAAC;MACf;IACF,CAAC,CAAC;EACN,CAAC;EAED,OAAO;IACLjB,aAAa;IACbC,gBAAgB;IAChBC,iBAAiB;IACjBC,oBAAoB;IACpBG,kBAAkB;IAClBF,kBAAkB;IAClBC;EACF,CAAC;AACH;AAAC,GAhCuBN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}