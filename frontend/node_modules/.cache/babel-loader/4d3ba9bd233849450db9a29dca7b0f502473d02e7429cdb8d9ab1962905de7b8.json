{"ast":null,"code":"import{Title,Pagination,Container,Main,SubscriptionList}from'../../components';import{useSubscriptions}from'../../utils';import api from'../../api';import{useEffect}from'react';import MetaTags from'react-meta-tags';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubscriptionsPage=function SubscriptionsPage(){var _useSubscriptions=useSubscriptions(),subscriptions=_useSubscriptions.subscriptions,setSubscriptions=_useSubscriptions.setSubscriptions,subscriptionsCount=_useSubscriptions.subscriptionsCount,setSubscriptionsCount=_useSubscriptions.setSubscriptionsCount,removeSubscription=_useSubscriptions.removeSubscription,subscriptionsPage=_useSubscriptions.subscriptionsPage,setSubscriptionsPage=_useSubscriptions.setSubscriptionsPage;var getSubscriptions=function getSubscriptions(_ref){var page=_ref.page;api.getSubscriptions({page:page}).then(function(res){setSubscriptions(res.results);setSubscriptionsCount(res.count);});};useEffect(function(_){getSubscriptions({page:subscriptionsPage});},[subscriptionsPage]);return/*#__PURE__*/_jsx(Main,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(MetaTags,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"\\u041C\\u043E\\u0438 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u043C\\u043E\\u0449\\u043D\\u0438\\u043A - \\u041C\\u043E\\u0438 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"\\u041C\\u043E\\u0438 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"})]}),/*#__PURE__*/_jsx(Title,{title:\"\\u041C\\u043E\\u0438 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"}),/*#__PURE__*/_jsx(SubscriptionList,{subscriptions:subscriptions,removeSubscription:removeSubscription}),/*#__PURE__*/_jsx(Pagination,{count:subscriptionsCount,limit:6,onPageChange:function onPageChange(page){setSubscriptionsPage(page);}})]})});};export default SubscriptionsPage;","map":{"version":3,"names":["Title","Pagination","Container","Main","SubscriptionList","useSubscriptions","api","useEffect","MetaTags","SubscriptionsPage","subscriptions","setSubscriptions","subscriptionsCount","setSubscriptionsCount","removeSubscription","subscriptionsPage","setSubscriptionsPage","getSubscriptions","page","then","res","results","count","_"],"sources":["C:/Dev/foodgram-project-react/frontend/src/pages/subscriptions/index.js"],"sourcesContent":["import { Title, Pagination, Container, Main, SubscriptionList  } from '../../components'\nimport { useSubscriptions } from '../../utils'\nimport api from '../../api'\nimport { useEffect } from 'react'\nimport MetaTags from 'react-meta-tags'\n\nconst SubscriptionsPage = () => {\n  const {\n    subscriptions,\n    setSubscriptions,\n    subscriptionsCount,\n    setSubscriptionsCount,\n    removeSubscription,\n    subscriptionsPage,\n    setSubscriptionsPage\n  } = useSubscriptions()\n\n  const getSubscriptions = ({ page }) => {\n    api\n      .getSubscriptions({ page })\n      .then(res => {\n        setSubscriptions(res.results)\n        setSubscriptionsCount(res.count)\n      })\n  }\n\n  useEffect(_ => {\n    getSubscriptions({ page: subscriptionsPage })\n  }, [subscriptionsPage])\n\n\n  return <Main>\n    <Container>\n      <MetaTags>\n        <title>Мои подписки</title>\n        <meta name=\"description\" content=\"Продуктовый помощник - Мои подписки\" />\n        <meta property=\"og:title\" content=\"Мои подписки\" />\n      </MetaTags>\n      <Title\n        title='Мои подписки'\n      />\n      <SubscriptionList\n        subscriptions={subscriptions}\n        removeSubscription={removeSubscription}\n      />\n      <Pagination\n        count={subscriptionsCount}\n        limit={6}\n        onPageChange={page => {\n          setSubscriptionsPage(page)\n        }}\n      />\n    </Container>\n  </Main>\n}\n\nexport default SubscriptionsPage"],"mappings":"AAAA,OAASA,KAAK,CAAEC,UAAU,CAAEC,SAAS,CAAEC,IAAI,CAAEC,gBAAgB,KAAS,kBAAkB,CACxF,OAASC,gBAAgB,KAAQ,aAAa,CAC9C,MAAOC,IAAG,KAAM,WAAW,CAC3B,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,SAAQ,KAAM,iBAAiB,yFAEtC,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,EAAS,CAC9B,sBAQIJ,gBAAgB,EAAE,CAPpBK,aAAa,mBAAbA,aAAa,CACbC,gBAAgB,mBAAhBA,gBAAgB,CAChBC,kBAAkB,mBAAlBA,kBAAkB,CAClBC,qBAAqB,mBAArBA,qBAAqB,CACrBC,kBAAkB,mBAAlBA,kBAAkB,CAClBC,iBAAiB,mBAAjBA,iBAAiB,CACjBC,oBAAoB,mBAApBA,oBAAoB,CAGtB,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,MAAiB,IAAXC,KAAI,MAAJA,IAAI,CAC9BZ,GAAG,CACAW,gBAAgB,CAAC,CAAEC,IAAI,CAAJA,IAAK,CAAC,CAAC,CAC1BC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACXT,gBAAgB,CAACS,GAAG,CAACC,OAAO,CAAC,CAC7BR,qBAAqB,CAACO,GAAG,CAACE,KAAK,CAAC,CAClC,CAAC,CAAC,CACN,CAAC,CAEDf,SAAS,CAAC,SAAAgB,CAAC,CAAI,CACbN,gBAAgB,CAAC,CAAEC,IAAI,CAAEH,iBAAkB,CAAC,CAAC,CAC/C,CAAC,CAAE,CAACA,iBAAiB,CAAC,CAAC,CAGvB,mBAAO,KAAC,IAAI,wBACV,MAAC,SAAS,yBACR,MAAC,QAAQ,yBACP,8FAA2B,cAC3B,aAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,2LAAqC,EAAG,cACzE,aAAM,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,qEAAc,EAAG,GAC1C,cACX,KAAC,KAAK,EACJ,KAAK,CAAC,qEAAc,EACpB,cACF,KAAC,gBAAgB,EACf,aAAa,CAAEL,aAAc,CAC7B,kBAAkB,CAAEI,kBAAmB,EACvC,cACF,KAAC,UAAU,EACT,KAAK,CAAEF,kBAAmB,CAC1B,KAAK,CAAE,CAAE,CACT,YAAY,CAAE,sBAAAM,IAAI,CAAI,CACpBF,oBAAoB,CAACE,IAAI,CAAC,CAC5B,CAAE,EACF,GACQ,EACP,CACT,CAAC,CAED,cAAeT,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}