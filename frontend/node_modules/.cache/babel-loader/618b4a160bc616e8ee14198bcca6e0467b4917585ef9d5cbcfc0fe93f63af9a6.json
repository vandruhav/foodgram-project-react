{"ast":null,"code":"import{PurchaseList,Title,Container,Main,Button}from'../../components';import styles from'./styles.module.css';import{useRecipes}from'../../utils/index.js';import{useEffect,useState}from'react';import api from'../../api';import MetaTags from'react-meta-tags';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var updateOrders=_ref.updateOrders,orders=_ref.orders;var _useRecipes=useRecipes(),recipes=_useRecipes.recipes,setRecipes=_useRecipes.setRecipes,handleAddToCart=_useRecipes.handleAddToCart;var getRecipes=function getRecipes(){api.getRecipes({page:1,limit:999,is_in_shopping_cart:Number(true)}).then(function(res){var results=res.results;setRecipes(results);});};useEffect(function(_){getRecipes();},[]);var downloadDocument=function downloadDocument(){api.downloadFile();};return/*#__PURE__*/_jsx(Main,{children:/*#__PURE__*/_jsxs(Container,{className:styles.container,children:[/*#__PURE__*/_jsxs(MetaTags,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u043C\\u043E\\u0449\\u043D\\u0438\\u043A - \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cart,children:[/*#__PURE__*/_jsx(Title,{title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(PurchaseList,{orders:recipes,handleRemoveFromCart:handleAddToCart,updateOrders:updateOrders}),orders>0&&/*#__PURE__*/_jsx(Button,{modifier:\"style_dark-blue\",clickHandler:downloadDocument,children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"})]})]})});};export default Cart;","map":{"version":3,"names":["PurchaseList","Title","Container","Main","Button","styles","useRecipes","useEffect","useState","api","MetaTags","Cart","updateOrders","orders","recipes","setRecipes","handleAddToCart","getRecipes","page","limit","is_in_shopping_cart","Number","then","res","results","_","downloadDocument","downloadFile","container","cart"],"sources":["C:/Dev/foodgram-project-react/frontend/src/pages/cart/index.js"],"sourcesContent":["import { PurchaseList, Title, Container, Main, Button } from '../../components'\nimport styles from './styles.module.css'\nimport { useRecipes } from '../../utils/index.js'\nimport { useEffect, useState } from 'react'\nimport api from '../../api'\nimport MetaTags from 'react-meta-tags'\n\nconst Cart = ({ updateOrders, orders }) => {\n  const {\n    recipes,\n    setRecipes,\n    handleAddToCart\n  } = useRecipes()\n  \n  const getRecipes = () => {\n    api\n      .getRecipes({\n        page: 1,\n        limit: 999,\n        is_in_shopping_cart: Number(true)\n      })\n      .then(res => {\n        const { results } = res\n        setRecipes(results)\n      })\n  }\n\n  useEffect(_ => {\n    getRecipes()\n  }, [])\n\n  const downloadDocument = () => {\n    api.downloadFile()\n  }\n\n  return <Main>\n    <Container className={styles.container}>\n      <MetaTags>\n        <title>Список покупок</title>\n        <meta name=\"description\" content=\"Продуктовый помощник - Список покупок\" />\n        <meta property=\"og:title\" content=\"Список покупок\" />\n      </MetaTags>\n      <div className={styles.cart}>\n        <Title title='Список покупок' />\n        <PurchaseList\n          orders={recipes}\n          handleRemoveFromCart={handleAddToCart}\n          updateOrders={updateOrders}\n        />\n        {orders > 0 && <Button\n          modifier='style_dark-blue'\n          clickHandler={downloadDocument}\n        >Скачать список</Button>}\n      </div>\n    </Container>\n  </Main>\n}\n\nexport default Cart\n\n"],"mappings":"AAAA,OAASA,YAAY,CAAEC,KAAK,CAAEC,SAAS,CAAEC,IAAI,CAAEC,MAAM,KAAQ,kBAAkB,CAC/E,MAAOC,OAAM,KAAM,qBAAqB,CACxC,OAASC,UAAU,KAAQ,sBAAsB,CACjD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,IAAG,KAAM,WAAW,CAC3B,MAAOC,SAAQ,KAAM,iBAAiB,yFAEtC,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAAiC,IAA3BC,aAAY,MAAZA,YAAY,CAAEC,MAAM,MAANA,MAAM,CAClC,gBAIIP,UAAU,EAAE,CAHdQ,OAAO,aAAPA,OAAO,CACPC,UAAU,aAAVA,UAAU,CACVC,eAAe,aAAfA,eAAe,CAGjB,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBR,GAAG,CACAQ,UAAU,CAAC,CACVC,IAAI,CAAE,CAAC,CACPC,KAAK,CAAE,GAAG,CACVC,mBAAmB,CAAEC,MAAM,CAAC,IAAI,CAClC,CAAC,CAAC,CACDC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACX,GAAQC,QAAO,CAAKD,GAAG,CAAfC,OAAO,CACfT,UAAU,CAACS,OAAO,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAEDjB,SAAS,CAAC,SAAAkB,CAAC,CAAI,CACbR,UAAU,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7BjB,GAAG,CAACkB,YAAY,EAAE,CACpB,CAAC,CAED,mBAAO,KAAC,IAAI,wBACV,MAAC,SAAS,EAAC,SAAS,CAAEtB,MAAM,CAACuB,SAAU,wBACrC,MAAC,QAAQ,yBACP,0GAA6B,cAC7B,aAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,uMAAuC,EAAG,cAC3E,aAAM,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,iFAAgB,EAAG,GAC5C,cACX,aAAK,SAAS,CAAEvB,MAAM,CAACwB,IAAK,wBAC1B,KAAC,KAAK,EAAC,KAAK,CAAC,iFAAgB,EAAG,cAChC,KAAC,YAAY,EACX,MAAM,CAAEf,OAAQ,CAChB,oBAAoB,CAAEE,eAAgB,CACtC,YAAY,CAAEJ,YAAa,EAC3B,CACDC,MAAM,CAAG,CAAC,eAAI,KAAC,MAAM,EACpB,QAAQ,CAAC,iBAAiB,CAC1B,YAAY,CAAEa,gBAAiB,6FACT,GACpB,GACI,EACP,CACT,CAAC,CAED,cAAef,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}